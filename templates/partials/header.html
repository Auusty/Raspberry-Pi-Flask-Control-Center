<div class="header">

    <div class="header-left">
        {% if back_url %}
        <a href="{{ back_url }}" class="header-btn back-btn">
            <img src="{{ back_icon }}"
                 class="icon-img"
                 alt="Back">
        </a>
        {% endif %}

        {% if show_time %}
        <span id="header-time" class="header-time">--:--</span>
        {% endif %}
    </div>

    <h1 class="header-title">{{ title }}</h1>

    <div class="header-status">
        <!-- Surface button -->
        <button class="header-btn surface-btn"
                onclick="cycleSurface()"
                title="Change surface">
            <img src="{{ url_for('static', filename='icons/layers.svg') }}"
                class="icon-img"
                alt="Surface">
        </button>

        <!-- Theme button -->
        <button class="header-btn theme-btn"
                onclick="cycleTheme()"
                title="Change theme">
            <img src="{{ url_for('static', filename='icons/palette.svg') }}"
                class="icon-img"
                alt="Theme">
        </button>

        {% if not hide_status %}
            <span class="status-dot {{ status_class }}"></span>
            {{ status_text }}
        {% endif %}
    </div>

</div>

<!-- Global theme + surface logic -->
<script src="{{ url_for('static', filename='js/theme.js') }}"></script>
